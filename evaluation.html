<h2>Episode E136: Diarization Architecture Iteration</h2>

<p>
Episode E136 was selected following transcript validation anomalies identified during multi-speaker review. Its rapid turn-taking, sub-second interjections, impersonation, and cross-talk provide a stress condition for the ASR + diarization integration layer. The configurations below document the architectural revisions that followed this analysis.
</p>

<hr>

<h3>1. Pyannote Baseline (Embedding + Boundary Volatility)</h3>

<pre><code>{
  "diarization_source": "PYANNOTE",
  "turns": [
    {
      "speaker": "Friedberg",
      "start": 1.309,
      "end": 7.09,
      "text": "Let me get everything queued up here..."
    },
    {
      "speaker": "Chamath",
      "start": 7.11,
      "end": 8.791,
      "text": "Hey, everybody."
    },
    {
      "speaker": "Friedberg",
      "start": 7.343,
      "end": 10.991,
      "text": "Hey, everybody. Yeah, do it, Chamath."
    },
    {
      "speaker": "SPEAKER_UNKNOWN",
      "start": 25.274,
      "end": 25.474,
      "text": "He's"
    }
  ]
}</code></pre>

<p>
Observed:
• Overlapping intervals  
• Sub-2 second micro-fragments  
• UNKNOWN sandwich artifacts  
• Boundary oscillation under interruption-heavy speech  
</p>

<p>
Lexical continuity was largely preserved, but speaker identity mapping
was unstable under rapid alternation.
</p>

<hr>

<h3>2. NeMo RTTM Injection (No Word-Level Reconciliation)</h3>

<p>
Replacing Pyannote with NeMo TitaNet-L improved embedding cohesion
and cluster separation. However, directly injecting RTTM segment
boundaries into WhisperX transcripts introduced integration artifacts.
</p>

<pre><code>{
  "diarization_source": "NEMO",
  "alignment_strategy": "raw_rttm_injection",
  "turns": [
    {
      "speaker": "speaker_3",
      "start": 7.11,
      "end": 8.791,
      "text": "Hey,"
    },
    {
      "speaker": "speaker_3",
      "start": 8.811,
      "end": 10.991,
      "text": "everybody. Hey, everybody."
    },
    {
      "speaker": "SPEAKER_UNKNOWN",
      "start": 25.274,
      "end": 25.474,
      "text": "He's"
    }
  ]
}</code></pre>

<p>
Observed:
• Word-level splits inside lexical units  
• Artificial UNKNOWN fragments mid-token  
• Empty spans under RTTM windows  
• ASR timestamp / diarization boundary mismatch  
</p>

<p>
This demonstrated that embedding stability alone is insufficient.
Diarization intervals and ASR word timestamps are generated independently;
without reconciliation, temporal drift produces semantic fragmentation.
</p>

<hr>

<h3>3. NeMo + Word-Level Force Alignment (Final Architecture)</h3>

<pre><code>{
  "diarization_source": "NEMO",
  "alignment_strategy": "force_aligned_merge",
  "segments": [
    {
      "start": 1.309,
      "end": 10.991,
      "speaker": "friedberg",
      "text": "Let me get everything queued up here... Hey, everybody. Yeah, do it, Chamath."
    },
    {
      "start": 12.011,
      "end": 18.793,
      "speaker": "chamath",
      "text": "Hey, everybody. I'm Jcal..."
    },
    {
      "start": 18.853,
      "end": 29.715,
      "speaker": "friedberg",
      "text": "He's not even here. You can't do that. It's awful."
    }
  ]
}</code></pre>

<p>
Result:
• Same-speaker batching restored  
• UNKNOWN inflation eliminated  
• No mid-token lexical splits  
• Reduced boundary oscillation  
• Stable canonical dataset export  
</p>

<p>
E136 demonstrates that instability was not a diarization model failure,
but a cross-model temporal reconciliation issue. Enforcing deterministic
word-level assignment resolved the fragmentation while preserving
NeMo’s improved embedding stability.
</p>
